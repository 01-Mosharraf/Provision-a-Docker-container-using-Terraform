# Provision-a-Docker-container-using-Terraform
This repository is for provisioning a docker container using terraform


### IaC Project Report: Provision a Docker Container Using Terraform

User: Local Windows Machine
Environment: Windows (PowerShell)
Tools Used:
Terraform v1.10.3

Docker Desktop for Windows

Docker Provider for Terraform (kreuzwerker/docker v3.0.2)

### Objective
Provision and manage a Docker container running Ubuntu using Terraform to demonstrate Infrastructure as Code (IaC) concepts.

### Project Directory Structure

D:\temp\iac\Provision-a-Docker-container-using-Terraform\
│
├── main.tf                   # Terraform configuration file
├── .terraform.lock.hcl       # Auto-generated by Terraform
└── (execution done via PowerShell)

### Terraform Configuration File: main.tf

terraform {
  required_providers {
    docker = {
      source  = "kreuzwerker/docker"
      version = "3.0.2"
    }
  }
}

provider "docker" {
  host = "tcp://localhost:2375"
}

resource "docker_image" "ubuntu" {
  name = "ubuntu:latest"
}

resource "docker_container" "foo" {
  image = docker_image.ubuntu.image_id
  name  = "foo"
}
### Docker Configuration (for Windows)
To allow Terraform to communicate with Docker, the Docker engine was configured to expose an insecure TCP socket at localhost:2375.

### Docker Engine JSON Settings:

{
  "hosts": [
    "tcp://localhost:2375",
    "npipe://"
  ]
}
Applied via:

Docker Desktop → Settings → Docker Engine → Edit JSON → Apply & Restart

### Execution Logs & Steps
### Step 1: Terraform Initialization
powershell
Copy
Edit
terraform init
Output Summary:

Docker provider v3.0.2 installed

.terraform.lock.hcl created

Initialization successful

### Initial Error Encountered

terraform plan
Error:

Error initializing Docker client: protocol not available
### Resolution:
Issue caused by using Unix socket (unix:///var/run/docker.sock) on Windows

Fixed by changing provider block to use tcp://localhost:2375

 Second Error Encountered

terraform plan
Error:


Error pinging Docker server: connectex: No connection could be made...
 Resolution:
Docker not listening on port 2375

Fixed by updating Docker Engine settings and restarting Docker Desktop

### Step 2: Verify Docker API Connectivity

curl http://localhost:2375/_ping
Output:

→ Confirms Docker is listening on localhost:2375

### Step 3: Plan Infrastructure

terraform plan
Output Summary:

2 resources to be added:

docker_image.ubuntu

docker_container.foo

### Step 4: Apply Infrastructure
powershell
Copy
Edit
terraform apply
Output Summary:

ubuntu:latest image pulled

Docker container foo created

